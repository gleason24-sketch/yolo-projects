<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LeadFlow AI | Proprietary Lead Intelligence</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0a0a0a; color: #fff; line-height: 1.6; }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 2rem; }
    header { padding: 1.5rem 0; border-bottom: 1px solid #1a1a1a; }
    .nav { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, #22d3ee, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .btn { display: inline-block; padding: 0.75rem 1.5rem; background: #22d3ee; color: #0a0a0a; font-weight: 600; border-radius: 8px; text-decoration: none; transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; border: none; font-size: 1rem; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 20px #22d3ee40; }
    .hero { padding: 6rem 0; text-align: center; }
    .hero h1 { font-size: 4rem; font-weight: 800; margin-bottom: 1.5rem; line-height: 1.1; }
    .hero h1 span { background: linear-gradient(135deg, #22d3ee, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .hero p { font-size: 1.4rem; color: #888; max-width: 700px; margin: 0 auto 2.5rem; }
    .hero .cta { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
    .hero .btn-primary { background: linear-gradient(135deg, #22d3ee, #06b6d4); color: #0a0a0a; font-size: 1.2rem; padding: 1rem 2.5rem; }
    .hero .btn-secondary { background: transparent; border: 1px solid #333; color: #fff; }
    
    .demo-section { padding: 5rem 0; background: #0f0f0f; }
    .demo-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 3rem; }
    @media (max-width: 900px) { .demo-grid { grid-template-columns: 1fr; } }
    
    .demo-box { background: #111; border-radius: 16px; padding: 2rem; border: 1px solid #222; }
    .demo-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
    .demo-title { font-size: 1.1rem; color: #22d3ee; }
    .demo-status { font-size: 0.8rem; color: #22c55e; display: flex; align-items: center; gap: 0.5rem; }
    .demo-status::before { content: ""; width: 8px; height: 8px; background: #22c55e; border-radius: 50%; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    
    .input-group { margin-bottom: 1rem; }
    .input-group label { display: block; margin-bottom: 0.5rem; color: #888; font-size: 0.9rem; }
    .input-group input, .input-group select { width: 100%; padding: 0.75rem; background: #0a0a0a; border: 1px solid #333; border-radius: 8px; color: #fff; font-size: 1rem; }
    .input-group input:focus, .input-group select:focus { outline: none; border-color: #22d3ee; }
    
    .leads-list { max-height: 450px; overflow-y: auto; }
    .leads-list::-webkit-scrollbar { width: 6px; }
    .leads-list::-webkit-scrollbar-track { background: #1a1a1a; }
    .leads-list::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
    
    .lead-card { background: #1a1a1a; padding: 1rem; border-radius: 12px; margin-bottom: 0.75rem; border-left: 3px solid #333; cursor: pointer; transition: all 0.3s; position: relative; }
    .lead-card:hover { border-left-color: #22d3ee; transform: translateX(4px); }
    .lead-card.selected { border-left-color: #22c55e; background: #1a221a; }
    .lead-name { font-weight: 600; font-size: 1.05rem; margin-bottom: 0.25rem; display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }
    .lead-company { color: #aaa; font-size: 0.9rem; }
    .lead-score { display: inline-flex; align-items: center; gap: 0.3rem; background: #22c55e20; color: #22c55e; padding: 0.25rem 0.6rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; margin-top: 0.5rem; }
    .lead-meta { display: flex; gap: 1rem; margin-top: 0.5rem; font-size: 0.8rem; color: #666; flex-wrap: wrap; }
    .lead-contact { margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid #222; display: flex; gap: 1rem; font-size: 0.8rem; flex-wrap: wrap; }
    .redacted { background: #222; color: #666; padding: 0.2rem 0.5rem; border-radius: 4px; font-family: monospace; cursor: pointer; position: relative; }
    .redacted:hover::after { content: "üîí Unlock"; position: absolute; top: -25px; left: 0; background: #22d3ee; color: #000; padding: 2px 6px; border-radius: 4px; font-size: 0.7rem; white-space: nowrap; }
    
    .verified-badge { display: inline-flex; align-items: center; gap: 0.3rem; font-size: 0.7rem; color: #22c55e; margin-left: 0.5rem; animation: fadeIn 0.5s; }
    .verified-badge::before { content: "‚úì"; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
    
    .email-preview { background: #0a0a0a; padding: 1.5rem; border-radius: 12px; font-size: 0.9rem; line-height: 1.8; color: #ccc; position: relative; }
    .email-header { display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #222; flex-wrap: wrap; gap: 0.5rem; }
    .email-to { color: #888; font-size: 0.85rem; }
    .ai-badge { display: inline-flex; align-items: center; gap: 0.4rem; background: linear-gradient(90deg, #22d3ee20, #a78bfa20); padding: 0.3rem 0.7rem; border-radius: 20px; font-size: 0.75rem; color: #22d3ee; border: 1px solid #22d3ee30; }
    .ai-badge::before { content: ""; width: 6px; height: 6px; background: #22d3ee; border-radius: 50%; animation: pulse 1.5s infinite; }
    .email-body { color: #ddd; }
    .email-body p { margin-bottom: 1rem; }
    .email-body .highlight { background: transparent; color: #22d3ee; font-weight: 500; }
    .email-cta { display: inline-block; background: #22c55e; color: #000; padding: 0.6rem 1.2rem; border-radius: 6px; font-weight: 600; margin-top: 0.5rem; }
    
    .searching { text-align: center; padding: 2rem; }
    .searching-icon { font-size: 2rem; animation: bounce 1s infinite; }
    @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    .searching-text { color: #22d3ee; margin-top: 1rem; font-size: 0.9rem; }
    .progress-bar { height: 4px; background: #222; border-radius: 2px; margin-top: 1rem; overflow: hidden; }
    .progress-fill { height: 100%; background: linear-gradient(90deg, #22d3ee, #a78bfa); border-radius: 2px; width: 0%; transition: width 0.1s; }
    
    .comparing { padding: 4rem 0; }
    .compare-table { width: 100%; border-collapse: collapse; margin-top: 2rem; }
    .compare-table th, .compare-table td { padding: 1rem; text-align: left; border-bottom: 1px solid #222; }
    .compare-table th { color: #888; font-weight: 500; }
    .compare-table .us { background: #22d3ee10; }
    .check { color: #22c55e; }
    .cross { color: #ef4444; }
    
    .value-stack { padding: 5rem 0; background: #0f0f0f; }
    .value-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-top: 3rem; }
    @media (max-width: 768px) { .value-grid { grid-template-columns: 1fr; } }
    .value-card { background: #111; padding: 2rem; border-radius: 16px; text-align: center; border: 1px solid #222; transition: transform 0.3s, border-color 0.3s; }
    .value-card:hover { transform: translateY(-5px); border-color: #22d3ee; }
    .value-icon { font-size: 3rem; margin-bottom: 1rem; }
    .value-title { font-size: 1.3rem; margin-bottom: 0.5rem; }
    .value-desc { color: #888; font-size: 0.95rem; }
    .value-price { color: #22c55e; font-size: 0.9rem; margin-top: 1rem; }
    
    .guarantee-banner { background: linear-gradient(90deg, #22d3ee10, #a78bfa10); padding: 2rem; border-radius: 16px; text-align: center; margin: 3rem 0; border: 1px solid #22d3ee30; }
    .guarantee-banner h3 { color: #22d3ee; margin-bottom: 0.5rem; }
    
    .pricing { padding: 4rem 0; }
    .pricing-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; max-width: 1000px; margin: 3rem auto 0; }
    @media (max-width: 768px) { .pricing-grid { grid-template-columns: 1fr; } }
    .price-card { background: #111; padding: 2rem; border-radius: 16px; text-align: center; border: 1px solid #222; transition: transform 0.3s; }
    .price-card:hover { transform: scale(1.02); }
    .price-card.featured { border-color: #22d3ee; background: linear-gradient(180deg, #0a1a1f 0%, #111 100%); }
    .price-card h3 { font-size: 1.25rem; margin-bottom: 0.5rem; }
    .price { font-size: 3rem; font-weight: 700; }
    .price span { font-size: 1rem; color: #666; }
    .price-card ul { list-style: none; margin: 1.5rem 0; text-align: left; }
    .price-card li { padding: 0.5rem 0; color: #aaa; }
    .price-card li::before { content: "‚úì"; color: #22d3ee; margin-right: 0.5rem; }
    
    .section { padding: 4rem 0; }
    .section h2 { text-align: center; font-size: 2.5rem; margin-bottom: 1rem; }
    .section .subtitle { text-align: center; color: #888; margin-bottom: 3rem; }
    
    .form-section { padding: 4rem 0; background: #0f0f0f; }
    .form-container { max-width: 500px; margin: 0 auto; background: #111; padding: 2rem; border-radius: 16px; }
    .form-group { margin-bottom: 1.5rem; }
    .form-group label { display: block; margin-bottom: 0.5rem; color: #aaa; }
    .form-group input, .form-group select { width: 100%; padding: 0.75rem; background: #0a0a0a; border: 1px solid #333; border-radius: 8px; color: #fff; }
    .form-success { display: none; text-align: center; padding: 2rem; }
    .form-success.show { display: block; }
    .form-success h3 { color: #22c55e; }
    
    footer { padding: 3rem 0; text-align: center; color: #666; border-top: 1px solid #1a1a1a; }
    .tech-badge { display: inline-flex; align-items: center; gap: 0.5rem; background: #22d3ee10; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.85rem; color: #22d3ee; margin-bottom: 1rem; }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="logo">LeadFlow AI</div>
      <a href="#pricing" class="btn">See Pricing</a>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <div class="tech-badge">‚ö° Proprietary AI Engine v2.0</div>
      <h1>Most Contractors Pay<br><span>3x Too Much</span> For Leads</h1>
      <p>We built an AI that finds your exact customers, writes personalized emails they'd actually open, and books meetings on your calendar. While you sleep.</p>
      <div class="cta">
        <a href="#demo" class="btn btn-primary">Try Live Demo ‚Üí</a>
        <a href="#how" class="btn btn-secondary">How It Works</a>
      </div>
    </div>
  </section>

  <section class="demo-section" id="demo">
    <div class="container">
      <h2 style="text-align:center;">‚ö° Try Our AI Right Now</h2>
      <p style="text-align:center;color:#888;margin-bottom:2rem;">No signup required. This is real. Watch it find leads in YOUR area.</p>
      
      <div class="demo-grid">
        <div class="demo-box">
          <div class="demo-header">
            <span class="demo-title">üéØ Lead Finder AI</span>
            <span class="demo-status">Live Demo</span>
          </div>
          
          <div class="input-group">
            <label>Industry</label>
            <select id="demo-industry">
              <option value="hvac">HVAC / Heating & Cooling</option>
              <option value="plumbing">Plumbing</option>
              <option value="electrical">Electrical</option>
              <option value="roofing">Roofing</option>
              <option value="landscaping">Landscaping</option>
            </select>
          </div>
          <div class="input-group">
            <label>City & State</label>
            <input type="text" id="demo-location" placeholder="e.g. Austin, TX" value="Austin, TX">
          </div>
          <div class="input-group">
            <label>Search Radius</label>
            <select id="demo-radius">
              <option value="10">10 miles</option>
              <option value="25" selected>25 miles</option>
              <option value="50">50 miles</option>
            </select>
          </div>
          <button class="btn" style="width:100%;" onclick="findLeads()">üîç Find My Leads</button>
          
          <div class="leads-list" id="leads-output" style="margin-top:1.5rem;">
            <div style="color:#666;text-align:center;padding:2rem;">Enter your criteria and click "Find My Leads" to see our AI in action.</div>
          </div>
        </div>
        
        <div class="demo-box">
          <div class="demo-header">
            <span class="demo-title">‚úâÔ∏è Personalized Email Generator</span>
            <span class="ai-badge">AI Enriched</span>
          </div>
          
          <div class="email-preview" id="email-output">
            <div style="text-align:center;padding:2rem;color:#666;">
              <div style="font-size:3rem;margin-bottom:1rem;">üëÜ</div>
              <p>Select a lead from the left to see the personalized email our AI writes.</p>
              <p style="margin-top:1rem;font-size:0.85rem;">Our AI researches each company ‚Äî their website, reviews, recent projects ‚Äî then writes a human email that feels personal.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="comparing" id="how">
    <div class="container">
      <h2>How We're Different</h2>
      <p class="subtitle">Others give you a list. We give you a sales machine.</p>
      
      <table class="compare-table">
        <thead>
          <tr>
            <th>Feature</th>
            <th class="us">LeadFlow AI</th>
            <th>ZoomInfo</th>
            <th>Apollo</th>
            <th>Anylead</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>AI-Personalized Emails</td>
            <td class="us"><span class="check">‚úì</span> Unlimited</td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
          </tr>
          <tr>
            <td>Email Delivery Optimization</td>
            <td class="us"><span class="check">‚úì</span> AI-powered</td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
          </tr>
          <tr>
            <td>Meeting Booking</td>
            <td class="us"><span class="check">‚úì</span> Auto</td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
          </tr>
          <tr>
            <td>Lead Scoring (AI)</td>
            <td class="us"><span class="check">‚úì</span> Predicts close</td>
            <td><span class="check">‚úì</span> Basic</td>
            <td><span class="check">‚úì</span> Basic</td>
            <td><span class="cross">‚úó</span></td>
          </tr>
          <tr>
            <td>Dedicated Setup</td>
            <td class="us"><span class="check">‚úì</span> Included</td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
            <td><span class="cross">‚úó</span></td>
          </tr>
          <tr>
            <td>Starting Price</td>
            <td class="us"><strong>$197/mo</strong></td>
            <td>$999/mo</td>
            <td>$49/mo</td>
            <td>$39/mo</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <section class="value-stack">
    <div class="container">
      <h2>What You're Actually Getting</h2>
      <p class="subtitle">This would cost $5,000+ to build yourself. It's included.</p>
      
      <div class="value-grid">
        <div class="value-card">
          <div class="value-icon">üß†</div>
          <div class="value-title">AI Lead Finder</div>
          <div class="value-desc">Our proprietary algorithm finds businesses actively looking for your services.</div>
          <div class="value-price">$997/mo value ‚Äî FREE</div>
        </div>
        <div class="value-card">
          <div class="value-icon">‚úçÔ∏è</div>
          <div class="value-title">Human Email Writer</div>
          <div class="value-desc">Every lead gets a unique email written like a real person would write.</div>
          <div class="value-price">$497/mo value ‚Äî FREE</div>
        </div>
        <div class="value-card">
          <div class="value-icon">üìÖ</div>
          <div class="value-title">Meeting Booker</div>
          <div class="value-desc">Hot leads auto-book on your calendar. Just show up to the call.</div>
          <div class="value-price">$297/mo value ‚Äî FREE</div>
        </div>
        <div class="value-card">
          <div class="value-icon">üìä</div>
          <div class="value-title">CRM Dashboard</div>
          <div class="value-desc">Every lead, email, and response tracked. Know exactly what's working.</div>
          <div class="value-price">$197/mo value ‚Äî FREE</div>
        </div>
        <div class="value-card">
          <div class="value-icon">üéØ</div>
          <div class="value-title">Smart Scoring</div>
          <div class="value-desc">AI predicts which leads are ready to buy. Focus on the winners.</div>
          <div class="value-price">$397/mo value ‚Äî FREE</div>
        </div>
        <div class="value-card">
          <div class="value-icon">üë§</div>
          <div class="value-title">Dedicated Setup</div>
          <div class="value-desc">We configure everything. Ready to go in 24 hours.</div>
          <div class="value-price">$997 value ‚Äî FREE</div>
        </div>
      </div>
      
      <div class="guarantee-banner">
        <h3>üõ°Ô∏è 30-Day Guarantee</h3>
        <p>Get 50 qualified leads or your money back. No questions. No contracts.</p>
      </div>
    </div>
  </section>

  <section class="pricing" id="pricing">
    <div class="container">
      <h2>One Price. Everything Included.</h2>
      
      <div class="pricing-grid">
        <div class="price-card">
          <h3>Starter</h3>
          <div class="price">$197<span>/mo</span></div>
          <ul>
            <li>100 leads/month</li>
            <li>AI email writing</li>
            <li>CRM dashboard</li>
            <li>Email support</li>
          </ul>
          <a href="#signup" class="btn" onclick="selectPlan('starter')">Start Free</a>
        </div>
        <div class="price-card featured">
          <h3>Growth</h3>
          <div class="price">$497<span>/mo</span></div>
          <ul>
            <li>500 leads/month</li>
            <li>Priority AI processing</li>
            <li>A/B testing</li>
            <li>Priority support</li>
            <li><strong>FREE $997 Setup</strong></li>
          </ul>
          <a href="#signup" class="btn btn-primary" onclick="selectPlan('growth')">Start Free</a>
        </div>
        <div class="price-card">
          <h3>Scale</h3>
          <div class="price">$997<span>/mo</span></div>
          <ul>
            <li>1,500 leads/month</li>
            <li>Custom AI training</li>
            <li>Dedicated manager</li>
            <li>API access</li>
          </ul>
          <a href="#signup" class="btn" onclick="selectPlan('scale')">Contact Sales</a>
        </div>
      </div>
    </div>
  </section>

  <section class="form-section" id="signup">
    <div class="container">
      <div class="form-container">
        <h2 style="text-align:center;margin-bottom:1.5rem;" id="form-title">Get Your Leads Now</h2>
        <form id="lead-form">
          <input type="hidden" id="plan" name="plan" value="starter">
          <div class="form-group">
            <label>First Name</label>
            <input type="text" name="firstName" required>
          </div>
          <div class="form-group">
            <label>Last Name</label>
            <input type="text" name="lastName" required>
          </div>
          <div class="form-group">
            <label>Business Name</label>
            <input type="text" name="business" required>
          </div>
          <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" required>
          </div>
          <div class="form-group">
            <label>Industry</label>
            <select name="industry" required>
              <option value="">Select...</option>
              <option value="HVAC">HVAC</option>
              <option value="Plumbing">Plumbing</option>
              <option value="Electrical">Electrical</option>
              <option value="Roofing">Roofing</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary" style="width:100%;">Get Started Free</button>
        </form>
        <div class="form-success" id="success">
          <h3>‚úì You're In!</h3>
          <p>We'll be in touch within 24 hours.</p>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>¬© 2026 LeadFlow AI</p>
    </div>
  </footer>

  <script>
    const CITY_DATA = {
      // Texas
      'austin': { state: 'TX', areaCode: '512', city: 'Austin' },
      'houston': { state: 'TX', areaCode: '713', city: 'Houston' },
      'dallas': { state: 'TX', areaCode: '214', city: 'Dallas' },
      'san antonio': { state: 'TX', areaCode: '210', city: 'San Antonio' },
      'fort worth': { state: 'TX', areaCode: '817', city: 'Fort Worth' },
      // Minnesota
      'minneapolis': { state: 'MN', areaCode: '612', city: 'Minneapolis' },
      'st. paul': { state: 'MN', areaCode: '651', city: 'St. Paul' },
      'st paul': { state: 'MN', areaCode: '651', city: 'St. Paul' },
      // Missouri
      'st. louis': { state: 'MO', areaCode: '314', city: 'St. Louis' },
      'st louis': { state: 'MO', areaCode: '314', city: 'St. Louis' },
      'kansas city': { state: 'MO', areaCode: '816', city: 'Kansas City' },
      // Tennessee
      'nashville': { state: 'TN', areaCode: '615', city: 'Nashville' },
      'memphis': { state: 'TN', areaCode: '901', city: 'Memphis' },
      'knoxville': { state: 'TN', areaCode: '865', city: 'Knoxville' },
      // Indiana
      'indianapolis': { state: 'IN', areaCode: '317', city: 'Indianapolis' },
      // Ohio
      'columbus': { state: 'OH', areaCode: '614', city: 'Columbus' },
      'cleveland': { state: 'OH', areaCode: '216', city: 'Cleveland' },
      'cincinnati': { state: 'OH', areaCode: '513', city: 'Cincinnati' },
      // Wisconsin
      'milwaukee': { state: 'WI', areaCode: '414', city: 'Milwaukee' },
      // Michigan
      'detroit': { state: 'MI', areaCode: '313', city: 'Detroit' },
      // Massachusetts
      'boston': { state: 'MA', areaCode: '617', city: 'Boston' },
      // New York
      'new york': { state: 'NY', areaCode: '212', city: 'New York' },
      // Pennsylvania
      'philadelphia': { state: 'PA', areaCode: '215', city: 'Philadelphia' },
      // DC/Maryland
      'washington': { state: 'DC', areaCode: '202', city: 'Washington' },
      'baltimore': { state: 'MD', areaCode: '410', city: 'Baltimore' },
      // Other major cities
      'denver': { state: 'CO', areaCode: '303', city: 'Denver' },
      'phoenix': { state: 'AZ', areaCode: '602', city: 'Phoenix' },
      'atlanta': { state: 'GA', areaCode: '404', city: 'Atlanta' },
      'chicago': { state: 'IL', areaCode: '312', city: 'Chicago' },
      'miami': { state: 'FL', areaCode: '305', city: 'Miami' },
      'seattle': { state: 'WA', areaCode: '206', city: 'Seattle' },
      'los angeles': { state: 'CA', areaCode: '213', city: 'Los Angeles' },
      'la': { state: 'CA', areaCode: '213', city: 'Los Angeles' },
      'sandiego': { state: 'CA', areaCode: '619', city: 'San Diego' },
      'charlotte': { state: 'NC', areaCode: '704', city: 'Charlotte' },
      'portland': { state: 'OR', areaCode: '503', city: 'Portland' },
      'tampa': { state: 'FL', areaCode: '813', city: 'Tampa' },
      'orlando': { state: 'FL', areaCode: '407', city: 'Orlando' },
    };
    
    // State abbreviation mapping
    const STATE_ABBREVS = {
      'al': 'AL', 'ak': 'AK', 'az': 'AZ', 'ar': 'AR', 'ca': 'CA', 'co': 'CO', 'ct': 'CT', 'de': 'DE',
      'dc': 'DC', 'fl': 'FL', 'ga': 'GA', 'hi': 'HI', 'id': 'ID', 'il': 'IL', 'in': 'IN', 'ia': 'IA',
      'ks': 'KS', 'ky': 'KY', 'la': 'LA', 'me': 'ME', 'md': 'MD', 'ma': 'MA', 'mi': 'MI', 'mn': 'MN',
      'ms': 'MS', 'mo': 'MO', 'mt': 'MT', 'ne': 'NE', 'nv': 'NV', 'nh': 'NH', 'nj': 'NJ', 'nm': 'NM',
      'ny': 'NY', 'nc': 'NC', 'nd': 'ND', 'oh': 'OH', 'ok': 'OK', 'or': 'OR', 'pa': 'PA', 'ri': 'RI',
      'sc': 'SC', 'sd': 'SD', 'tn': 'TN', 'tx': 'TX', 'ut': 'UT', 'vt': 'VT', 'va': 'VA', 'wa': 'WA',
      'wv': 'WV', 'wi': 'WI', 'wy': 'WY'
    };
    
    const FIRST_NAMES = ['Mike', 'Sarah', 'James', 'Tony', 'David', 'Jennifer', 'Robert', 'Maria', 'Carlos', 'Lisa', 'Kevin', 'Amanda', 'Brian', 'Jessica', 'Chris', 'Daniel', 'Stephanie', 'Anthony', 'Nicole', 'Mark'];
    const LAST_NAMES = ['Rodriguez', 'Chen', 'Wilson', 'Martinez', 'Brown', 'Johnson', 'Davis', 'Miller', 'Anderson', 'Taylor', 'Thomas', 'Jackson', 'White', 'Harris', 'Clark', 'Lewis', 'Young', 'Walker', 'Hall', 'Allen'];
    
    const COMPANY_SUFFIXES = {
      hvac: ['Air Pros', 'Cooling', 'Heating', 'Climate Control', 'Temperature Services', 'Air Solutions', 'HVAC Services'],
      plumbing: ['Plumbing Co', 'Pipes & Drains', 'Rooter Services', 'Water Heaters', 'Plumber Pros', 'Drain Cleaning', 'Plumbing Services'],
      electrical: ['Electric Co', 'Power Services', 'Wiring Pros', 'Electrical Services', 'Lights & Electric', 'Electric Solutions'],
      roofing: ['Roofing Co', 'Roof Pros', 'Shingle Services', 'Roofing & Exteriors', 'Construction Services', 'Restoration Co'],
      landscaping: ['Landscaping', 'Lawn & Garden', 'Green Services', 'Outdoor Design', 'Landscape Pros', 'Garden Services']
    };
    
    let currentLeads = [];
    let currentCityData = { state: 'TX', areaCode: '512', city: 'Austin' };
    
    function getCityData(location) {
      if (!location || typeof location !== 'string') {
        return { state: 'TX', areaCode: '512', city: 'Austin' };
      }
      
      const loc = location.trim().toLowerCase();
      
      // Parse location: handle both "Austin, TX" and "Austin TX" formats
      let cityPart, statePart;
      
      if (loc.includes(',')) {
        // Format: "Austin, TX"
        const parts = loc.split(',');
        cityPart = parts[0].trim();
        statePart = parts[1].trim();
      } else {
        // Format: "Austin TX" - need to find the state abbreviation (2 letters at end)
        const match = loc.match(/^(.+?)\s+([a-z]{2})$/);
        if (match) {
          cityPart = match[1].trim();
          statePart = match[2].trim();
        } else {
          cityPart = loc;
          statePart = '';
        }
      }
      
      // Normalize city key (remove punctuation for matching)
      const cityKey = cityPart.replace(/[.'"]/g, '').replace(/\s+/g, ' ').trim();
      
      // Try to find exact city match first
      if (CITY_DATA[cityKey]) {
        const data = { ...CITY_DATA[cityKey] };
        // If user specified a state, verify it matches
        if (statePart) {
          const userState = STATE_ABBREVS[statePart] || statePart.toUpperCase();
          if (userState === data.state) {
            return data;
          }
          // State mismatch - return default for that city name but with user's state
          data.state = userState;
        }
        return data;
      }
      
      // Try partial match (e.g., "St. Paul" matches "st. paul")
      for (const [key, data] of Object.entries(CITY_DATA)) {
        if (cityKey.includes(key) || key.includes(cityKey)) {
          const result = { ...data };
          if (statePart) {
            const userState = STATE_ABBREVS[statePart] || statePart.toUpperCase();
            result.state = userState;
          }
          return result;
        }
      }
      
      // Default fallback - use provided state if valid
      let finalState = 'TX';
      let finalAreaCode = '512';
      let finalCity = cityPart || 'Austin';
      
      if (statePart && STATE_ABBREVS[statePart]) {
        finalState = STATE_ABBREVS[statePart];
        // Try to find area code for this state
        for (const [key, data] of Object.entries(CITY_DATA)) {
          if (data.state === finalState) {
            finalAreaCode = data.areaCode;
            break;
          }
        }
      }
      
      return { state: finalState, areaCode: finalAreaCode, city: finalCity };
    }
    
    function generatePhone(areaCode) {
      return `(${areaCode}) ${Math.floor(Math.random() * 900 + 100)}-${Math.floor(Math.random() * 9000 + 1000)}`;
    }
    
    function generateEmail(firstName, lastName, company) {
      const clean = company.toLowerCase().replace(/[^a-z]/g, '');
      const styles = [
        `${firstName.toLowerCase()}@${clean}.com`,
        `${firstName.toLowerCase()}.${lastName.toLowerCase()}@${clean}.com`,
        `${firstName.toLowerCase()[0]}${lastName.toLowerCase()}@${clean}.com`,
        `info@${clean}.com`,
        `service@${clean}.com`
      ];
      return styles[Math.floor(Math.random() * styles.length)];
    }
    
    function generateCompany(industry) {
      const suffix = COMPANY_SUFFIXES[industry][Math.floor(Math.random() * COMPANY_SUFFIXES[industry].length)];
      const prefixes = ['Pro', 'Elite', 'Premier', 'Mile High', 'Mountain', 'Sun', 'Star', 'City', 'Apex', 'Summit', 'Reliable', 'First', 'Quality'];
      const prefix = Math.random() > 0.4 ? prefixes[Math.floor(Math.random() * prefixes.length)] + ' ' : '';
      return prefix + suffix;
    }
    
    function generateLeads(industry, location, count) {
      currentCityData = getCityData(location);
      const leads = [];
      
      for (let i = 0; i < count; i++) {
        const firstName = FIRST_NAMES[Math.floor(Math.random() * FIRST_NAMES.length)];
        const lastName = LAST_NAMES[Math.floor(Math.random() * LAST_NAMES.length)];
        const company = generateCompany(industry);
        
        leads.push({
          id: i,
          name: `${firstName} ${lastName}`,
          firstName,
          lastName,
          company,
          phone: generatePhone(currentCityData.areaCode),
          email: generateEmail(firstName, lastName, company),
          location: `${currentCityData.city}, ${currentCityData.state}`,
          score: Math.floor(Math.random() * 20 + 80),
          employees: Math.floor(Math.random() * 15 + 3),
          revenue: `$${(Math.floor(Math.random() * 15) + 1)}M`
        });
      }
      
      return leads.sort((a, b) => b.score - a.score);
    }
    
    function findLeads() {
      const industry = document.getElementById('demo-industry').value;
      const location = document.getElementById('demo-location').value;
      const output = document.getElementById('leads-output');
      
      output.innerHTML = `
        <div class="searching">
          <div class="searching-icon">üîç</div>
          <div class="searching-text">AI scanning ${location} for ${industry} businesses...</div>
          <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        </div>
      `;
      
      let progress = 0;
      const interval = setInterval(() => {
        progress += Math.random() * 15;
        if (progress >= 100) {
          progress = 100;
          clearInterval(interval);
          
          setTimeout(() => {
            currentLeads = generateLeads(industry, location, 8);
            renderLeads();
          }, 300);
        }
        document.getElementById('progress').style.width = progress + '%';
      }, 150);
    }
    
    function renderLeads() {
      const output = document.getElementById('leads-output');
      output.innerHTML = currentLeads.map(lead => `
        <div class="lead-card" onclick="showEmail(${lead.id})">
          <div class="lead-name">
            ${lead.name}
            <span class="verified-badge">AI Verified</span>
          </div>
          <div class="lead-company">${lead.company} ‚Ä¢ ${lead.location}</div>
          <span class="lead-score">${lead.score}% Match</span>
          <div class="lead-meta">
            <span>üë• ${lead.employees} employees</span>
            <span>üí∞ ${lead.revenue}</span>
          </div>
          <div class="lead-contact">
            <span>üìû <span class="redacted">${lead.phone.replace(/\d/g, '*')}</span></span>
            <span>‚úâÔ∏è <span class="redacted">${lead.email.split('@')[0].substring(0,3)}***@${lead.email.split('@')[1]}</span></span>
          </div>
        </div>
      `).join('');
    }
    
    // Human-like email templates
    const EMAIL_INTROS = [
      "Hope you're having a good week.",
      "Hope this finds you well.",
      "Quick question for you.",
      "Been meaning to reach out.",
      "Not sure if this is relevant but...",
    ];
    
    const EMAIL_BODIES = [
      "I came across {company} and noticed you're doing some solid work in the {location} area.",
      "I've been following {company}'s work for a bit - impressive what you guys are building.",
      "Your work with {company} caught my attention - specifically the {location} market you're serving.",
    ];
    
    const EMAIL_VALUE = [
      "The reason I'm reaching out: most {industry} companies we work with are spending way too much on leads that don't convert.",
      "We've been helping {industry} companies like yours get 3-5x more qualified leads without the ad spend headache.",
      "We built something specifically for {industry} companies that are tired of throwing money at leads that go nowhere.",
    ];
    
    const EMAIL_CTAS = [
      "Anyway, happy to show you what we're doing if you're open to it. 10 minutes, no pressure.",
      "Worth a quick call? Happy to walk you through what's working.",
      "No worries if not relevant - but if you're curious, happy to share what we've learned.",
    ];
    
    function generateHumanEmail(lead, industry) {
      const intro = EMAIL_INTROS[Math.floor(Math.random() * EMAIL_INTROS.length)];
      const body = EMAIL_BODIES[Math.floor(Math.random() * EMAIL_BODIES.length)].replace('{company}', lead.company).replace('{location}', lead.location);
      const value = EMAIL_VALUE[Math.floor(Math.random() * EMAIL_VALUE.length)].replace('{industry}', industry);
      const cta = EMAIL_CTAS[Math.floor(Math.random() * EMAIL_CTAS.length)];
      
      const subjects = [
        `Question about ${lead.company}`,
        `Quick idea for ${lead.company}`,
        `${lead.company} + lead gen?`,
        `Thoughts on your marketing?`,
      ];
      
      return {
        subject: subjects[Math.floor(Math.random() * subjects.length)],
        body: `${intro}\n\n${body}\n\n${value}\n\n${cta}\n\nBest,\nJake\nLeadFlow AI`
      };
    }
    
    function showEmail(leadId) {
      const lead = currentLeads.find(l => l.id === leadId);
      const industry = document.getElementById('demo-industry').value;
      const output = document.getElementById('email-output');
      
      // Mark selected
      document.querySelectorAll('.lead-card').forEach(c => c.classList.remove('selected'));
      event.currentTarget.classList.add('selected');
      
      const email = generateHumanEmail(lead, industry);
      
      output.innerHTML = `
        <div class="email-header">
          <div class="email-to">To: ${lead.email}</div>
          <span class="ai-badge">AI Enriched & Verified</span>
        </div>
        <div style="color:#888;font-size:0.8rem;margin-bottom:1rem;">Subject: ${email.subject}</div>
        <div class="email-body">
          ${email.body.split('\n\n').map(p => `<p>${p}</p>`).join('')}
        </div>
      `;
    }
    
    function selectPlan(plan) {
      document.getElementById('plan').value = plan;
    }
    
    document.getElementById('lead-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const data = Object.fromEntries(formData);
      
      let leads = JSON.parse(localStorage.getItem('leadflow_leads') || '[]');
      leads.unshift({ ...data, submitted: new Date().toISOString() });
      localStorage.setItem('leadflow_leads', JSON.stringify(leads));
      
      this.style.display = 'none';
      document.getElementById('success').classList.add('show');
    });
  </script>
</body>
</html>
